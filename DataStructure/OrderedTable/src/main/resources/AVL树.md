### AVL树

#### AVL树的设计
1.为了让左右两侧的节点数量规模差不多
2.为了不蜕变成棒状结构
3.为了每次查询、删除、添加节点效率都高

#### AVL树的规则
AVL树的平衡性规则：任意一个节点的左子树和右子树的深度差值不超过1
AVL树在加入节点或者删除节点时，有平衡动作

#### AVL树和搜索二叉树的区别
区别在于创建搜索二叉树并且添加节点和删除节点调整之后，多了专属于AVL树平衡性的操作

#### AVL树的添加节点
AVL树不是只对一个节点或者头节点的检查，而是只要添加节点，就沿途对每一个节点都进行检查
添加节点要么在左子树中添加，要么在右子树中添加，添加节点之后，需要对logN个节点进行检查，每个节点做四种被破坏类型的检查，
调整都是O(1)的时间复杂度，那么对logN个节点检查和调整的总时间复杂度：O(logN)

#### AVL树的删除节点
1.如果要删除的节点，既没有左子节点又没有右子节点，从删除的节点开始，检查每一个父节点是哪一种被破坏的四种类型
2.如果要删除的节点，没有左子节点，有右子节点，右子节点替换并且来到要删除节点的位置，从这个要删除的节点位置开始，检查每一个父节点
是哪一种被破坏的四种类型
3.如果要删除的节点，既有左子节点又有右子节点，
举例：要删除的节点是7
7
/   \
T    10
/  \
9    C
/ \
8   B
\
A
A替换8节点，8这个节点来到7节点的位置，从9节点开始，依次检查每一个父节点是哪一种被破坏的四种类型



#### AVL树平衡性被破坏的四种类型(跟左旋和右旋没有关系)
类型1.LL
3
/
2
/
1

根节点为3，左子树深度为2，右子树深度为0，左子树大于右子树的深度，并且深度差值超过1，平衡性被破坏

平衡性调整：根节点向右旋转
2
/ \
1   3

类型2.LR
5
/ \
2   6
/ \
1   3
\
4
根节点为5，左子树深度为3，右子树深度为1，左子树和右子树的深度差值超过1，并且在左子树中，右子树的深度大于左子树的深度，平衡性被破坏

平衡性调整：根节点的左子节点向左旋转，调整之后，根节点向右旋转
5
/ \
3   6
/ \
2   4
/     
1
3
/ \
2   5
/   / \
1   4   6

类型3.RR
1
\
2
\
3
根节点为1，左子树深度为0，右子树深度为2，左子树和右子树的深度差值超过1，平衡性被破坏

平衡性调整：根节点向左旋转
2
/ \
1   3

类型4.RL
3
/ \
2   6
/ \
5   7
/
4
根节点为3，左子树深度为1，右子树深度为3，左子树和右子树的深度差值超过1，并且在右子树中，左子树的深度大于右子树的深度，平衡性被破坏

平衡性调整：根节点的右子节点向右旋转，调整之后，根节点向左旋转
3
/ \
2   5
/ \
4   6
\
7
5
/ \
3   6
/   / \
2   4   7

类型5.既是LL，也是LR 或者既是RR，也是RL
o
/   \
o     o
/   \
o     o
/ \   / \
o   o o   o
如果既是LL，也是LR，那么一定要按照LL来进行调整，直接右旋
o
/   \
o     o
/   \
o     o
/ \   / \
o   o o   o

#### 二叉树的左旋和右旋：
1.不会破坏搜索二叉树的性质
2.变平衡的最基本操作只有左旋和右旋